
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Level Editor Based on IwGame - Introduction - Living and Programming - YJ Park's Blog</title>
  <meta name="author" content="YJ Park">

  
  <meta name="description" content="It&#8217;s been more than a month since my post about the idea of game engine based on Marmalade and IwGame, after the post, spent many hours busy &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.yjpark.org/blog/2012/10/12/level-editor-based-on-iwgame-introduction">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/yjpark" rel="alternate" title="Living and Programming - YJ Park's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2120845-8']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Living and Programming - YJ Park's Blog</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/yjpark" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.yjpark.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Level Editor Based on IwGame - Introduction</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-12T22:56:00+08:00" pubdate data-updated="true">2012-10-12 22:56</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>It&#8217;s been more than a month since my post about the idea of <a href="/blog/2012/08/30/game-engine-based-on-marmalade-and-iwgame/">game engine based on Marmalade and IwGame</a>, after the post, spent many hours busy coding, now I&#8217;ve got the basic level editor up running, I think it&#8217;s pretty cool, so here are some details about it.</p>

<p>Here is a screenshot of the level editor:</p>

<p><img src="/images/pfgame/leveleditor-screenshot-1.png"></p>

<!-- more -->


<h2>Updates about Original Post</h2>

<p>Before talking about the level editor, first I want to share some updates about Marmalade and IwGame in the last month.</p>

<p>First, Marmalade 6.1 was released, it&#8217;s great for me, the 2 most useful feature for me are: Open GL ES 2.0 shader support in simulator, easy to debug shader now, and OSX deployment to send game/editor as running application to Graphic Artists.</p>

<p>Second, DrMop commented in the original post, assure that IwGame is very actively developed and <a href="http://www.drmop.com/index.php/2012/10/08/iwgame-0-4-coming-very-soon-iwgame-is-going-portable/">version 0.40 is about to be released</a>.</p>

<p>Quick test with Chinese characters in CIwGameActorText, it works out of box, just specify a truetype font, write the text in UTF-8, then it&#8217;s done. I guess there is no need for CIwGameString to support unicode, since it can pass the bytes to Marmalade correctly.</p>

<h2>Current Features</h2>

<p>Now back to the level editor, it support image objects with layer(display order), depth(for parallel perspective), users can add/remove/copy/group objects, and can change position/size/scale/angle/origin with mouse, zoom in/out and move the camera around. Also I&#8217;ve integrated a Box2D debug view, and you can edit simple shape in it too (boxes and circles).</p>

<p>Actually it&#8217;s a bit easier than I thought to implement it, caused me about 5 weeks so far, worked quite hared during the time, but also had a basic animation editor and a game prototype at the same time, so the pure time on it was about 3 weeks.</p>

<p>Our graphic artists have already used the editor to build a few nice scenes and they are getting more productively with it day by day, It&#8217;s just what I wished it to be: a tool to make developer and other roles to collaborative more effectively, think it&#8217;s at the right direction.</p>

<p>Also it&#8217;s extremely useful for prototyping and debugging, the way I did it is to add a few tools around the objects, so when you&#8217;re running your game, you can switch to editor mode at any time (by tapping the tab key), then you can check the scene to see what&#8217;s going on, or adjust the objects right in the editor, then you can switch back to game mode. It feels like you can freeze time in game at any time, then make changes, then go back, very cool, and very useful.</p>

<p>To make it clear, here is a screenshot of our game prototype:
<img src="/images/pfgame/leveleditor-screenshot-2.png"></p>

<p>After I switch to editor mode, and zoom out a bit, I can get the screen as the first screenshot, then I can adjust the level, and switch back to keep playing. Our graphic artist feels very happy with this in game editing ability, they can see their changes instantly, which make the whole process very efficiently.</p>

<p>Another very useful feature is the Box2D shape editor and debug view, we can create boxes and circles right through the level editor, they will be effective instantly, so for a game based on Box2D, it&#8217;s very easy to create the levels by non-programmers.</p>

<p>Here is the same game prototype with Box2D debug view enabled:
<img src="/images/pfgame/leveleditor-screenshot-3.png"></p>

<p>As you can see, we use boxes and circles to create a rather complicate level. Also it&#8217;s very helpful to debug the collisions between objects, e.g. when I was implementing the effect of arrows hitting targets.</p>

<h2>What&#8217;s Missing</h2>

<p>As a basic level editor with advanced features (particle, animations&#8230;), I think it&#8217;s quite complete and usable, we&#8217;ve got quite some prototype scenes with it till now, and the artists feel happy with it most of the time.</p>

<p>The biggest missed feature is undo/redo, only deleting have a quick undo since it can cause big trouble when touch wrong key accidentally. To make it better, all version of saved files are kept on disk, so if you made big mistakes, then it&#8217;s recoverable by hand. It&#8217;s non trivial to implement a good undo/redo system, so probably this feature will only be added in a much later stage.</p>

<p>Also there is on gui at all, all functions are done by keyboard shortcut and mouse movement, so there is a learning curve, and you&#8217;ll feel a bit awkward at first. Though this is the quickest way for implementation and also for actually using IMO, after a few days using it, both of our graphic artists can use it with no big problem, and they said that it&#8217;s a bit geeky feeling when using it. :)</p>

<p>And manual works required to create a skeleton scene and import images to it, it&#8217;s not hard, just running some python scripts, but it&#8217;s still not so simple for non-programmers.</p>

<h2>What&#8217;s Next</h2>

<p>Guess I&#8217;ll keep improving it, fixing bugs first, now the focus is character animation editor, and the game prototype. After that, I&#8217;ll add particle feature to the level editor.</p>

<p>I feel quite happy doing this kind of tool works, and actually it&#8217;s not hard to make it usable as a standalone project and let other people to use it. e.g. I can make a converter to generate cocos builder format, then it can be used in cocos2d projects. Or if I make my animation editor to export spriter&#8217;s xml syntax, it can be used in many other projects too.</p>

<p>And at least for myself and our graphic artists, we think that our homebrew tools are much easier to use and feature complete (for just our needs) comparing to the tools we&#8217;ve tried. e.g. cocos builder, sprite helper, and spriter. Not saying that my editors are better products, just they are tailored by exactly our need and my design approach, and since it&#8217;s integrated in the exact game process, the workflow is much better comparing to a 3rd party tools. Also our level is pretty big(currently the demo scene is about 20000 pixel wide, and the engine/editor can support much bigger usage), I can&#8217;t find a proper tool to handle such big scene.</p>

<p>Though making a generic tool will involve many not so interesting works, and it&#8217;s very hard to make it works for more people, and probably my tools are just too tailored to our need, so I think I will keep focusing on our games in the near future.</p>

<p>But anyway, I already have some demo scene editor running as OS X application, will make it downloadable in next few days, after I wrote a very basic manual about it. like Jakub commented in the original post, even if I decided to keep it private, it can still help others a bit, and maybe by using it in a experimental way, people can get some ideas about improving their own tools.</p>

<p>If you are interested to see more information about the editor, please leave comments, thanks.</p>

<p>I&#8217;ll try to post more about technical details about some aspects of the editors, some hacks I used, and some mistakes I&#8217;ve overcomed.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">YJ Park</span></span>

      








  


<time datetime="2012-10-12T22:56:00+08:00" pubdate data-updated="true">2012-10-12 22:56</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/iwgame/'>iwgame</a>, <a class='category' href='/blog/categories/pfgame/'>pfgame</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://blog.yjpark.org/blog/2012/10/12/level-editor-based-on-iwgame-introduction/" data-via="yjpark" data-counturl="http://blog.yjpark.org/blog/2012/10/12/level-editor-based-on-iwgame-introduction/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/10/02/opengl-es-2-dot-0-shader-in-marmalade/" title="Previous Post: OpenGL ES 2.0 Shader in Marmalade">&laquo; OpenGL ES 2.0 Shader in Marmalade</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/11/05/convert-cocos2d-font-bmfont-to-marmalades-gxfont/" title="Next Post: Convert Cocos2D Font (BMFont) to Marmalade's GxFont">Convert Cocos2D Font (BMFont) to Marmalade's GxFont &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/chinese' style='font-size: 115.0%'>chinese(1)</a> <a href='/blog/categories/code' style='font-size: 160.0%'>code(4)</a> <a href='/blog/categories/game' style='font-size: 115.0%'>game(1)</a> <a href='/blog/categories/ios' style='font-size: 115.0%'>ios(1)</a> <a href='/blog/categories/iwgame' style='font-size: 145.0%'>iwgame(3)</a> <a href='/blog/categories/marmalade' style='font-size: 160.0%'>marmalade(4)</a> <a href='/blog/categories/movablewrite' style='font-size: 115.0%'>movablewrite(1)</a> <a href='/blog/categories/pettyfun' style='font-size: 145.0%'>pettyfun(3)</a> <a href='/blog/categories/pfgame' style='font-size: 145.0%'>pfgame(3)</a> <a href='/blog/categories/tool' style='font-size: 115.0%'>tool(1)</a> </span>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/04/14/marmalade-tricks-and-tips/">Marmalade Tricks and Tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/06/initial-release-of-s3ebass-marmalade-extension-for-bass-audio-engine/">Initial Release of s3eBass - Marmalade extension for BASS audio engine</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/05/convert-cocos2d-font-bmfont-to-marmalades-gxfont/">Convert Cocos2D Font (BMFont) to Marmalade's GxFont</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/12/level-editor-based-on-iwgame-introduction/">Level Editor Based on IwGame - Introduction</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/02/opengl-es-2-dot-0-shader-in-marmalade/">OpenGL ES 2.0 Shader in Marmalade</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/yjpark">@yjpark</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'yjpark',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("yjpark", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/yjpark" class="twitter-follow-button" data-show-count="false">Follow @yjpark</a>
  
</section>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - YJ Park -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'yjpark';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.yjpark.org/blog/2012/10/12/level-editor-based-on-iwgame-introduction/';
        var disqus_url = 'http://blog.yjpark.org/blog/2012/10/12/level-editor-based-on-iwgame-introduction/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
